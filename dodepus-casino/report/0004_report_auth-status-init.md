# Auth status init fix

**Тейк (как я понял)**
- Ошибка в браузере: `DEFAULT_AUTH_STATUS` недоступен при инициализации.
- Нужно устранить цикл импорта в local-sim, чтобы статус по умолчанию грузился стабильно.
- Проверить соседние модули на похожие проблемы.

**С чем работал**
- `local-sim/modules/clients/constants.js` — источник цикла.
- `local-sim/modules/auth/constants.js`, `local-sim/modules/auth/profileExtras.js` — проверка зависимостей.
- `local-sim/modules/verification/**`, `local-sim/modules/shared/**` — цепочка импортов.

**Изменённые файлы (кратко)**
- `local-sim/modules/clients/constants.js` — переключил импорт на прямой модуль `auth/constants` для устранения цикла.
- `report/report_auth-status-init_0001.md` — фиксация анализа и результата.

**Чеклист выполнения**
- [x] Local‑sim: db/types/routes обновлены (правки не требовались)
- [x] Local‑sim подтверждён (`npm run local-sim:validate`)
- [ ] Паритет схем local‑sim ↔ SQL; `migration-notes.md` обновлён (не затрагивалось)
- [ ] Черновик/миграции SQL подготовлены (не потребовались)
- [ ] UI на Bootstrap/React‑Bootstrap (не применимо)
- [x] I/O‑карта маршрутов актуальна (пробежался по зависимостям, расхождений нет)

**Для понимания (простыми словами)**
- Я убрал импорт из общего барреля `auth/index`, чтобы не было циклической загрузки.
- Я прошёлся по соседним constants.js и индексам, проверил что других TDZ-сценариев нет.
- Я подтвердил, что local-sim всё ещё валиден после правки.

**Итоги**
- Статус: ✅ Выполнено
- Ссылки: —
- Замечания: нужно следить за импортами из баррелей в local-sim — они легко создают циклы.

**Следующий шаг**
- Нет.
